<!DOCTYPE html> 
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width" , initial-scale="1">
        <title>money-mate</title>
    </head> 
    <body>
        <div id="table" class="table"/>
    </body>
      <script src="./components/TableRow.js"> </script> 
      <script src="./data.js"></script>
</html>

<script>
    const table = document.getElementById('table')

    const allUserNames = Object.values(userData).map(userList => Object.keys(userList)).flat()
    const userD = new Set(allUserNames)

    const userList = {}

    const test = Object.values(userData).map(dayData => {
        for([key, value] of Object.entries(dayData)) {
            if(!userList[key]){
                userList[key] ={
                    point: value,
                    victoryDay: value === 3 ? 1 : 0
                }
            }else{
                userList[key].point += value
                userList[key].victoryDay += value === 3 ? 1 : 0
            }
        }
    })

    let index = 1;
    for([name, value] of Object.entries(userList).sort( ([,a], [,b]) => b.point - a.point )){
        const tableRow = document.createElement('table-row')
        tableRow.setAttribute('number', index++)
        tableRow.setAttribute('image', image[name] || 'blank.png')
        tableRow.setAttribute('name', name)
        tableRow.setAttribute('point', value.point)
        tableRow.setAttribute('victoryDay', value.victoryDay)
        table.appendChild(tableRow)
    }
    console.log(userList )

</script>

<style>
    body {
        background-color: #D3C0D3;
        padding-left: 6px;
        padding-right: 6px;
        text-align: center;
    }
    .table{
        background-color: white;
        border-radius: 4px;
        padding-top: 10px;
    }
    span {
        
  display: inline-block;
  vertical-align: middle;
    }
</style>